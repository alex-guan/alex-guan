<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>APEX</title>
    <link rel="stylesheet" href="css/apex.css">
</head>

<body>
    <div class="slide">
        <div class="logo">
            APEX
        </div>
        <div class="nav">
            <ul>
                <li>背景</li>
                <li>英雄</li>
                <li>武器</li>
            </ul>
        </div>

    </div>
    <div class="page page1">
        <div class="lunbotu">
            <ul>
                <li>
                    <img src="images/APEX/lunbo/1.jpg">
                </li>
                <li>
                    <img src="images/APEX/lunbo/2.jpg">
                </li>
                <li>
                    <img src="images/APEX/lunbo/3.jpg">
                </li>
                <li>
                    <img src="images/APEX/lunbo/4.jpg">
                </li>
                <li>
                    <img src="images/APEX/lunbo/5.jpg">
                </li>
            </ul>
            <div class=" btn left">＜ </div>
            <div class=" btn right">＞</div>
        </div>
    </div>
    <div class="page page2">
        <div class="legends">
            <div class="legend">
                <div class="unit"></div>
                <div class="unit"></div>
                <div class="unit"></div>
                <div class="unit"></div>
                <div class="unit"></div>
            </div>
            <div class="info">
                <div class="unit">
                    <div class="skill"><img src="images/APEX/wraith/a.png"></div>
                    <div class="des"><p>被动技能：魔音传脑</p> 一道声音将在危险接近时警告你。在你看来，它应该是在帮助你。</div>
                    <div class="skill"><img src="images/APEX/wraith/q.png"></div>
                    <div class="des"><p>战术技能：踏入虚空</p> 进入安全的虚空中来快速走位并迴避所有伤害。</div>
                    <div class="skill"><img src="images/APEX/wraith/z.png"></div>
                    <div class="des"><p>终极技能：维度裂缝</p> 使用传送门连结两个位置 60 秒，你的整支小队都能使用它们。</div>
                </div>
                <div class="unit">
                    <div class="skill"><img src="images/APEX/bangalore/a.png"></div>
                    <div class="des"><p>被动技能：疾步</p> 奔跑时受到攻击将会提升你的移动速度一小段时间。</div>
                    <div class="skill"><img src="images/APEX/bangalore/q.png"></div>
                    <div class="des"><p>战术技能：烟雾发射器</p> 发射高速烟雾罐，在撞击时爆炸并形成一道烟墙。</div>
                    <div class="skill"><img src="images/APEX/bangalore/z.png"></div>
                    <div class="des"><p>终极技能：雷声滚滚</p> 唿叫缓慢散佈于整个场地的空袭</div>
                </div>
                <div class="unit">
                    <div class="skill"><img src="images/APEX/bloodhound/a.png"></div>
                    <div class="des"><p>被动技能：追踪器</p> 看见敌人所留下的踪迹。</div>
                    <div class="skill"><img src="images/APEX/bloodhound/q.png"></div>
                    <div class="des"><p>战术技能：上帝之眼</p> 短暂显示前方所有建筑中的隐藏敌人、陷阱与线索。</div>
                    <div class="skill"><img src="images/APEX/bloodhound/z.png"></div>
                    <div class="des"><p>终极技能：狩猎野兽</p> 强化你的感知，提升移动速度并标示你的猎物。</div>
                </div>
                <div class="unit">
                    <div class="skill"><img src="images/APEX/pathfinder/a.png"></div>
                    <div class="des"><p>被动技能：内线情报</p>  扫描侦察讯号台来揭露下一个圆圈地点。</div>
                    <div class="skill"><img src="images/APEX/pathfinder/q.png"></div>
                    <div class="des"><p>战术技能：钩爪</p>  用来快速到达难以抵达处的钩爪。</div>
                    <div class="skill"><img src="images/APEX/pathfinder/z.png"></div>
                    <div class="des"><p>终极技能：滑索枪</p> 打造滑索供大家使用。</div>
                </div>
                <div class="unit">
                    <div class="skill"><img src="images/APEX/mirage/a.png"></div>
                    <div class="des"><p>被动技能：安可!</p> 倒下后自动施放幻影</div>
                    <div class="skill"><img src="images/APEX/mirage/q.png"></div>
                    <div class="des"><p>战术技能：疯猫</p> 派出投影诱饵来混淆敌人。</div>
                    <div class="skill"><img src="images/APEX/mirage/z.png"></div>
                    <div class="des"><p>终极技能：消失表演</p> 部署一批幻影来干扰敌人并隐形。隐形五秒。</div>
                </div>
            </div>
        </div>
    </div>
    <div class="page page3">
        <div class="weapon-kind">
            <ul>
                <li><p>霰弹型子弹枪</p></li>
                <li><p>重型子弹枪</p></li>
                <li><p>轻型子弹枪</p></li>
            </ul>
        </div>
        <div class="weapons">
            <div>
                <img src="images/APEX/weapon/1.png" alt="">
                <img src="images/APEX/weapon/2.png" alt="">
                <img src="images/APEX/weapon/3.png" alt="">
                <img src="images/APEX/weapon/4.png" alt="">
                <img src="images/APEX/weapon/5.png" alt="">
                <img src="images/APEX/weapon/6.png" alt="">
                <img src="images/APEX/weapon/7.png" alt="">
                <img src="images/APEX/weapon/8.png" alt="">
                <img src="images/APEX/weapon/9.png" alt="">
                <img src="images/APEX/weapon/10.png" alt="">
                <img src="images/APEX/weapon/11.png" alt="">
                <img src="images/APEX/weapon/12.png" alt="">
             </div>
        </div>
        <div class="weapondes">
            <div>
                <p>獒犬散弹枪</p>
                <p>弹夹容量：4发（霰弹枪子弹）</p>
                <p>伤害：每发18点（每枪8发弹丸合计144点伤害）</p>     
                <p>爆头：每发36点（每枪8发弹丸合计288点伤害）</p>  
                <p>可装配件：不可装</p>                      
            </div>
            <div>
                <p>EVA-8自动散弹枪</p>
                <p>弹夹容量：8发（霰弹枪子弹）</p>
                <p>伤害：每发7点（每枪9发弹丸合计63点伤害）</p>     
                <p>爆头：每发10点（每枪9发弹丸合计90点伤害）</p>  
                <p>可装配件：枪管、瞄准镜</p>                      
            </div>
            <div>
                <p>和平捍卫者霰弹枪</p>
                <p>弹夹容量：6发（霰弹枪子弹</p>
                <p>伤害：每发10点（每枪11发弹丸合计110点伤害）</p>     
                <p>爆头：每发15点（每枪11发弹丸合计165点伤害）</p>  
                <p>可装配件：枪管、瞄准镜、即用配件（安装后可按右键蓄力）</p>                      
            </div>
            <div>
                <p>莫桑比克霰弹枪</p>
                <p>弹夹容量：3发（霰弹枪子弹）
                    </p>
                <p>伤害：每发18点（每枪8发弹丸合计144点伤害）</p>     
                <p>爆头：每发22点（每枪3发弹丸合计66点伤害）</p>  
                <p>可装配件：枪管、瞄准镜</p>                      
            </div>
            <div>
                <p>M600喷火轻机枪</p>
                <p>弹夹容量：35发（重型子弹）</p>
                <p>伤害：躯干20点、爆头40点</p>      
                <p>可装配件：枪管、弹夹、瞄准镜、枪托</p>                      
            </div>
            <div>
                <p>潜袭冲锋枪</p>
                <p>弹夹容量：20发（重型子弹）</p>
                <p>伤害：躯干14点、爆头21点</p>       
                <p>可装配件：弹夹、瞄准镜、枪托、即用配件</p>                      
            </div>
            <div>
                <p>赫姆洛克连发突击步枪</p>
                <p>弹夹容量：18发（重型子弹）</p>
                <p>伤害：躯干18点、爆头36点</p>     
                <p>可装配件：枪管、弹夹、瞄准镜、枪托</p>                      
            </div>
            <div>
                <p>VK-47平行步枪</p>
                <p>弹夹容量：20发（重型子弹）</p>
                <p>伤害：躯干16点、爆头32点</p>     
                <p>可装配件：弹夹、瞄准镜、枪托</p>                      
            </div>
            <div>
                <p>G7侦查枪</p>
                <p>弹夹容量：10发（轻型子弹）</p>
                <p>伤害：躯干30点、爆头60点</p>       
                <p>可装配件：枪管、弹夹、瞄准镜、枪托</p>                      
            </div>
            <div>
                <p>R-99冲锋枪</p>
                <p>弹夹容量：18发（轻型子弹）</p>
                <p>伤害：躯干12点、爆头18点</p>      
                <p>可装配件：枪管、弹夹、瞄准镜、枪托</p>                      
            </div>
            <div>
                    <p>R-301卡宾枪</p>
                    <p>弹夹容量：18发（轻型子弹）</p>
                    <p>伤害：躯干14点、爆头28点</p>  
                    <p>可装配件：枪管、弹夹、瞄准镜、枪托</p>                          
                </div>
            <div>
                <p>P2020手枪</p>
                <p>弹夹容量：10发（轻型子弹）</p>
                <p>伤害：躯干12点、爆头18点</p>      
                <p>可装配件：弹夹、瞄准镜</p>                      
            </div>
            
        </div>
    </div>

    <script src="jslib/jquery-3.3.1.min.js"></script>
    <script src="jslib/volecity.js"></script>
    <script src="jslib/zepto.min.js"></script>
    <script src="jslib/fx.js"></script>
    <script>
  //slide
  $(".slide .nav ul li").each(function(i){
    $(this).click(function(){
        if(i==0){
         $('body,html').animate({ scrollTop: 0 }, 800);
        }
        if(i==1){
            $('body,html').animate({ scrollTop: 630 }, 800);
        }
        if(i==2){
            $('body,html').animate({ scrollTop: 1200 }, 800);
        }
    })

  })  
 //page1 轮播图
        var $li = $(".lunbotu ul li");
        var num = 0;
        var $btnl = $(".left");
        var $btnr = $(".right");

        //定义轮播动画
        var lunbo=function(i){
            $li.eq(i).css({
                    "opacity": 1
                }).siblings().css({
                    "opacity": 0
                })
        }
        lunbo(num)
        //btn事件监听
        $btnl.click(
            function () {
                if (num < 0) {
                    num = 4
                } else {
                    num--
                }
                lunbo(num)
            }
        )
        $btnr.click(
            function () {
                if (num > 4) {
                    num = 0
                } else {
                    num++
                }
                lunbo(num)
            }
        )
        //定时器
        setInterval(() => {
            if (num == 4) {
                num = 0
            } else {
                num++
            }
            lunbo(num)
        }, 3000);


//page2 英雄
      var $legend=$(".legend .unit");
      var $info=$(".info .unit")
      var date=new Date().getTime();

      $legend.each(function(i){
          $(this).mouseenter(function(){

            if((new Date().getTime()-date)>100){
                
                $info.eq(i).animate({width:"600px"},{
                  duration:500
              })
              date=new Date().getTime();
            }else{
                
                $info.eq(i).css("width:600px")
                date=new Date().getTime();
            }
          })
          .mouseleave(function(){
            $info.eq(i).animate({width:"0"},{
                duration:200
            })
          })
      })
//page3 武器
      var $weaponKkind=$(".page3 .weapon-kind ul li");
      var $weapons=$(".page3 .weapons  div");
      var $weapon=$(".page3 .weapons  div img");
      var $weapondes=$(".page3 .weapondes  div");
      //武器类型选择的动画
      $weaponKkind.each(function(i){
        $(this).click(function(){
           $(this).css({
                "box-shadow":"1px 1px 20px 5px black"})
            $(this).siblings().css({
                 "box-shadow":"1px 1px 0px 0px black"
             })
            
        }).click(function(){
            $weapons.animate({top:""+(-i*370)+"px"},{
                duration:700   
            })
        })
      })
      //武器动画
      $weapon.each(function(i){
        $(this).mouseenter(function(){
            $(this).css({"box-shadow":"12px 12px 30px 0px black"}).siblings().css({
                "box-shadow":"none"
            })
            if((new Date().getTime()-date)>150){
            $weapondes.eq(i).animate({opacity:"1"}).siblings().animate({opacity:"0"})
            date=new Date().getTime();
            }else{
                $weapondes.eq(i).css({opacity:"1"}).siblings().css({opacity:"0"})
                date=new Date().getTime();
                console.log(date)
            }
            
        })
      })


//落地页
   //获取page高度
   var pageHeight=[600,1100,1200];
   var nowPage=0;
   var max=0;
  //获取当前scrollTop,并于定点做比较，进行入场动画
  $(window).scroll(function(){
      var scrollTop=$(this).scrollTop();
     /* console.log(scrollTop)*/
      for(var i=0;i<pageHeight.length;i++){
        if(pageHeight[i]<scrollTop+300&&scrollTop+300<pageHeight[i+1]){ 
            //防止重复调用
       if(nowPage != i+1 && i+1  > max){
                 nowPage = i+1;
                 max = nowPage;
              //调用函数数组中的那项即可
                 animateArr[nowPage]();}
        }
      }
      })
 
 //定义动画数组
   var animateArr=[function(){},function(){},function(){},function(){},function(){}];
   animateArr[0]=function(){
       console.log("欢迎来到未来战场！！！")
   }
   animateArr[1]=function(){
    console.log("1")
       $(".legend").velocity({
           translateY:"300px"
       },0)
       $(".legend").velocity({
           translateY:"0px",
           opacity:"1"
       },1000)
   }
   animateArr[2]=function(){
    console.log("2")

    $(".slide").velocity({
           translateY:"-100px"
       },0)
       $(".slide").velocity({
           translateY:"0px",
           opacity:"1"
       },800)

     $(".weapon-kind").velocity({
           translateX:"-500px",
       })
       $(".weapon-kind").velocity({
        translateX:"0px",
           opacity:".8"
       },2000)

   }
   animateArr[3]=function(){
    console.log("3")
      }
   animateArr[4]=function(){
       console.log("4")
   }
//

    </script>
</body>

</html>